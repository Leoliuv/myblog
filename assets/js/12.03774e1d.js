(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{192:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h5",{attrs:{id:"初始化安装："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化安装：","aria-hidden":"true"}},[s._v("#")]),s._v(" 初始化安装：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bin/mysqld --initialize-insecure --basedir=/paas/iddbs/liuli/mysql01/mysql --datadir=/paas/iddbs/liuli/mysql01/mysql/21000/\n")])])]),t("h5",{attrs:{id:"启动服务："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动服务：","aria-hidden":"true"}},[s._v("#")]),s._v(" 启动服务：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bin/mysqld_safe --defaults-file=/paas/iddbs/liuli/mysql01/mysql/etc/my21000.cnf &\n")])])]),t("hr"),s._v(" "),t("p",[s._v('bin/mysqld_safe --defaults-file=/paas/iddbs/liuli/mysql01/mysql/etc/my22000.cnf --plugin-load="rpl_semi_sync_master=semisync_master.so;rpl_semi_sync_slave=semisync_slave.so" &')]),s._v(" "),t("hr"),s._v(" "),t("h5",{attrs:{id:"停止服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#停止服务","aria-hidden":"true"}},[s._v("#")]),s._v(" 停止服务:")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bin/mysqladmin -umysql -pmysql --socket=/paas/iddbs/liuli/mysql01/mysql/22000/mysql.sock shutdown\n")])])]),t("h5",{attrs:{id:"登入mysql："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登入mysql：","aria-hidden":"true"}},[s._v("#")]),s._v(" 登入MySQL：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bin/mysql -uroot -proot --socket=/paas/iddbs/liuli/mysql01/mysql/20000/mysql.sock\nbin/mysql -uroot -proot -h172.18.231.117 -P21000\n")])])]),t("h5",{attrs:{id:"修改密码："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改密码：","aria-hidden":"true"}},[s._v("#")]),s._v(" 修改密码：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("alter user root@'localhost' identified by 'root';\n")])])]),t("h5",{attrs:{id:"创建用户："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建用户：","aria-hidden":"true"}},[s._v("#")]),s._v(" 创建用户：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("create user mysql@’%' identified by 'mysql';\n")])])]),t("h5",{attrs:{id:"分配权限："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分配权限：","aria-hidden":"true"}},[s._v("#")]),s._v(" 分配权限：")]),s._v(" "),t("div",{staticClass:"language-x extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("grant all privileges on *.* to mysql@'%' with grant option;\nflush privileges;\n")])])]),t("h5",{attrs:{id:"配置主从："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置主从：","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置主从：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" master "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nchange master "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" master_host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" master_port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" master_user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" master_password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" master_log_file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'log-bin.00005'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" master_log_pos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2007")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h5",{attrs:{id:"开启从线程："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启从线程：","aria-hidden":"true"}},[s._v("#")]),s._v(" 开启从线程：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" slave"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" slave\\G"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])])])},[],!1,null,null,null);a.default=r.exports}}]);